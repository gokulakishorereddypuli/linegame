<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Game</title>
  <link rel="stylesheet" href="style.css">
</head>

<body style="margin-top:50%;">
  <table>
    <tr>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </table>
  <p class="p"></p>
  <p class="result"></p>
  <script>
    //blue = rgb(0,0,225), red(255,0,0), default = rgb(221,221,221)

    let td = document.getElementsByTagName('td');
    let arr = [];
    if (document.querySelector('p.result').innerText == '') {
      td[0].addEventListener('click', function() {
        if ((arr[arr.length - 1] == 2 || arr[arr.length - 1] == undefined) && td[0].innerText == '') {
          td[0].innerText = 1;
          arr.push(1);
        } else if (arr[arr.length - 1] == 1 && td[0].innerText == '') {
          td[0].innerText = 2;
          arr.push(2);
        }
      })

      td[1].addEventListener('click', function() {
        if ((arr[arr.length - 1] == 2 || arr[arr.length - 1] == undefined) && td[1].innerText == '') {
          td[1].innerText = 1;
          arr.push(1);
        } else if (arr[arr.length - 1] == 1 && td[1].innerText == '') {
          td[1].innerText = 2;
          arr.push(2);
        }
      })

      td[2].addEventListener('click', function() {
        if ((arr[arr.length - 1] == 2 || arr[arr.length - 1] == undefined) && td[2].innerText == '') {
          td[2].innerText = 1;
          arr.push(1);
        } else if (arr[arr.length - 1] == 1 && td[2].innerText == '') {
          td[2].innerText = 2;
          arr.push(2);
        }
      })

      td[3].addEventListener('click', function() {
        if ((arr[arr.length - 1] == 2 || arr[arr.length - 1] == undefined) && td[3].innerText == '') {
          td[3].innerText = 1;
          arr.push(1);
        } else if (arr[arr.length - 1] == 1 && td[3].innerText == '') {
          td[3].innerText = 2;
          arr.push(2);
        }
      })
      td[4].addEventListener('click', function() {
        if ((arr[arr.length - 1] == 2 || arr[arr.length - 1] == undefined) && td[4].innerText == '') {
          td[4].innerText = 1;
          arr.push(1);
        } else if (arr[arr.length - 1] == 1 && td[4].innerText == '') {
          td[4].innerText = 2;
          arr.push(2);
        }
      })

      td[5].addEventListener('click', function() {
        if ((arr[arr.length - 1] == 2 || arr[arr.length - 1] == undefined) && td[5].innerText == '') {
          td[5].innerText = 1;
          arr.push(1);
        } else if (arr[arr.length - 1] == 1 && td[5].innerText == '') {
          td[5].innerText = 2;
          arr.push(2);
        }
      })

    }

    td[6].addEventListener('click', function() {
      if ((arr[arr.length - 1] == 2 || arr[arr.length - 1] == undefined) && td[6].innerText == '') {
        td[6].innerText = 1;
        arr.push(1);
      } else if (arr[arr.length - 1] == 1 && td[6].innerText == '') {
        td[6].innerText = 2;
        arr.push(2);
      }
    })

    td[7].addEventListener('click', function() {
      if ((arr[arr.length - 1] == 2 || arr[arr.length - 1] == undefined) && td[7].innerText == '') {
        td[7].innerText = 1;
        arr.push(1);
      } else if (arr[arr.length - 1] == 1 && td[7].innerText == '') {
        td[7].innerText = 2;
        arr.push(2);
      }
    })

    td[8].addEventListener('click', function() {
      if ((arr[arr.length - 1] == 2 || arr[arr.length - 1] == undefined) && td[8].innerText == '') {
        td[8].innerText = 1;
        arr.push(1);
      } else if (arr[arr.length - 1] == 1 && td[8].innerText == '') {
        td[8].innerText = 2;
        arr.push(2);
      }
    })

    function test() {
      if ((td[0].innerText == 1 && td[1].innerText == 1 && td[2].innerText == 1) || (td[3].innerText == 1 && td[4].innerText == 1 && td[5].innerText == 1) || (td[6].innerText == 1 && td[7].innerText == 1 && td[8].innerText == 1) || (td[0].innerText == 1 && td[3].innerText == 1 && td[6].innerText == 1) || (td[1].innerText == 1 && td[4].innerText == 1 && td[7].innerText == 1) || (td[2].innerText == 1 && td[5].innerText == 1 && td[8].innerText == 1) || (td[0].innerText == 1 && td[4].innerText == 1 && td[8].innerText == 1) || (td[2].innerText == 1 && td[4].innerText == 1 && td[6].innerText == 1)) {
        document.querySelector('p').style.display = 'block';
        document.querySelector('p.result').innerText = 'Player 1 Won';

      } else if ((td[0].innerText == 2 && td[1].innerText == 2 && td[2].innerText == 2) || (td[3].innerText == 2 && td[4].innerText == 2 && td[5].innerText == 2) || (td[6].innerText == 2 && td[7].innerText == 2 && td[8].innerText == 2) || (td[0].innerText == 2 && td[3].innerText == 2 && td[6].innerText == 2) || (td[1].innerText == 2 && td[4].innerText == 2 && td[7].innerText == 2) || (td[2].innerText == 2 && td[5].innerText == 2 && td[8].innerText == 2) || (td[0].innerText == 2 && td[4].innerText == 2 && td[8].innerText == 2) || (td[2].innerText == 2 && td[4].innerText == 2 && td[6].innerText == 2)) {
        document.querySelector('p').style.display = 'block';
        document.querySelector('p.result').innerText = 'Player 2 Won';

      } else if (arr.length == 9) {
        document.getElementsByClassName('result')[0].innerText = 'Sorry this match is Tie.'
      }
    }
    setInterval(test, 100);
  </script>
</body>

</html>
